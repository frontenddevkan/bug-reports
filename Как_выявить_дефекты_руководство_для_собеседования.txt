================================================================================
КАК ВЫЯВИТЬ ДЕФЕКТЫ ПРИ ТЕСТИРОВАНИИ САЙТА
Руководство для подготовки к собеседованию QA Engineer
================================================================================

Этот документ объясняет КАК именно проверяется каждый дефект, КАКИМИ ИНСТРУМЕНТАМИ 
и КАК обосновать свои выводы на собеседовании. Все проверки можно выполнить 
вручную без помощи AI.

================================================================================
ДЕФЕКТ 1: ОТСУТСТВУЮТ ЗАГОЛОВКИ БЕЗОПАСНОСТИ
================================================================================

ЧТО ЭТО ТАКОЕ:
Заголовки безопасности — это HTTP-заголовки, которые сервер отправляет браузеру 
вместе с ответом. Они инструктируют браузер, как обрабатывать страницу и защищают 
от различных атак.

КАК ПРОВЕРИТЬ (БЕЗ AI):

СПОСОБ 1 — Chrome DevTools (основной способ):
1. Открыть сайт в Chrome
2. Нажать F12 (открыть DevTools)
3. Перейти на вкладку "Network" (Сеть)
4. Обновить страницу (F5)
5. Кликнуть на ПЕРВЫЙ запрос в списке (обычно это документ с именем страницы или "digitalleague.ru")
6. В правой панели открыть вкладку "Headers" (Заголовки)
7. Прокрутить до раздела "Response Headers" (Заголовки ответа)
8. ПРОВЕРИТЬ наличие:
   - X-Frame-Options
   - X-Content-Type-Options
   - Strict-Transport-Security
   - Content-Security-Policy
   - X-XSS-Protection

СПОСОБ 2 — Онлайн-сервис securityheaders.com:
1. Зайти на https://securityheaders.com/
2. Ввести URL: https://www.digitalleague.ru/
3. Нажать "Scan"
4. Сервис покажет оценку и список отсутствующих заголовков

СПОСОБ 3 — Командная строка (curl):
   curl -I https://www.digitalleague.ru/

Команда выведет все заголовки ответа. Ищем в списке нужные заголовки.

КАК ОБОСНОВАТЬ НА СОБЕСЕДОВАНИИ:

"Я проверяю заголовки безопасности через DevTools. Открываю вкладку Network, 
выбираю основной документ и смотрю Response Headers. Если заголовков X-Frame-Options, 
X-Content-Type-Options, HSTS нет — это дефект. Эти заголовки защищают от clickjacking, 
MIME-sniffing атак и принуждают использовать HTTPS. Их отсутствие — уязвимость."

ЗАЧЕМ ЭТО НУЖНО:
- X-Frame-Options — защита от встраивания сайта в iframe (clickjacking)
- X-Content-Type-Options: nosniff — запрет браузеру "угадывать" тип контента
- Strict-Transport-Security — принудительное использование HTTPS
- Content-Security-Policy — защита от XSS атак

================================================================================
ДЕФЕКТ 2: НЕТ КОНТЕНТА ДЛЯ ПОЛЬЗОВАТЕЛЕЙ БЕЗ JAVASCRIPT
================================================================================

ЧТО ЭТО ТАКОЕ:
Сайт — это React SPA. В исходном HTML есть только пустой <div id="root"></div>. 
Весь контент подгружается через JavaScript. Если JS отключен — пользователь видит пустую страницу.

КАК ПРОВЕРИТЬ (БЕЗ AI):

СПОСОБ 1 — Просмотр исходного кода:
1. Открыть сайт в браузере
2. Правый клик → "Просмотреть код страницы" (View Page Source) или Ctrl+U
3. ВНИМАНИЕ: это НЕ то же самое, что Inspect Element!
4. Ищем в HTML теги с контентом: текст, заголовки, параграфы
5. Если видим только <div id="root"></div> и скрипты — контента нет

СПОСОБ 2 — Отключение JavaScript:
1. Chrome: Настройки → Конфиденциальность и безопасность → Настройки сайтов → JavaScript → Заблокировать
   Или проще: F12 → Ctrl+Shift+P → ввести "Disable JavaScript" → выполнить
2. Обновить страницу
3. Если страница пустая или показывает только "Для работы сайта нужен JavaScript" — дефект

СПОСОБ 3 — Проверка для SEO (что видят поисковые роботы):
- Google Search Console или сервисы типа "Fetch as Google" 
- Или: curl https://www.digitalleague.ru/ — сохранить вывод и посмотреть, есть ли в нём текст контента

КАК ОБОСНОВАТЬ НА СОБЕСЕДОВАНИИ:

"Я открываю View Page Source (Ctrl+U) — это показывает HTML, который приходит с сервера, 
без выполнения JavaScript. Если в нём только пустой div и скрипты, без текста — 
это проблема. Поисковые роботы могут не выполнять JS, пользователи с отключенным JS 
увидят пустую страницу. Решение — Server-Side Rendering или хотя бы базовый контент в HTML."

ВАЖНО РАЗЛИЧАТЬ:
- View Source (Ctrl+U) = что пришло с сервера
- Inspect Element (F12) = что отрендерил браузер после выполнения JS

================================================================================
ДЕФЕКТ 3: SITEMAP.XML ВОЗВРАЩАЕТ HTML ВМЕСТО XML
================================================================================

ЧТО ЭТО ТАКОЕ:
sitemap.xml — файл для поисковых систем с перечнем страниц сайта. Должен быть в формате XML. 
Если сервер возвращает HTML (ту же страницу, что и главная) — поисковики не смогут его прочитать.

КАК ПРОВЕРИТЬ (БЕЗ AI):

СПОСОБ 1 — Просто открыть в браузере:
1. Перейти по адресу https://www.digitalleague.ru/sitemap.xml
2. Посмотреть, что отображается
3. XML начинается с <?xml или <urlset> — структурированный список URL
4. HTML начинается с <!doctype html> или <html> — это дефект

СПОСОБ 2 — Проверка Content-Type:
1. F12 → Network → обновить страницу на sitemap.xml
2. Выбрать запрос sitemap.xml
3. В Headers смотреть "Content-Type"
4. Должно быть: application/xml или text/xml
5. Если text/html — дефект

СПОСОБ 3 — curl:
   curl -I https://www.digitalleague.ru/sitemap.xml

Смотрим заголовок Content-Type.

КАК ОБОСНОВАТЬ НА СОБЕСЕДОВАНИИ:

"Я открываю URL sitemap.xml напрямую. Если вижу HTML-страницу вместо XML со списком URL — 
это баг. Поисковые системы ожидают XML формат. Проверяю также Content-Type в заголовках — 
должен быть application/xml, а не text/html. Причина обычно в том, что для SPA все пути 
редиректят на index.html."

================================================================================
ДЕФЕКТ 4: ОТСУТСТВУЕТ META DESCRIPTION
================================================================================

ЧТО ЭТО ТАКОЕ:
Meta description — тег <meta name="description" content="..."> в <head>. 
Используется поисковыми системами для сниппета в выдаче. Без него Google сам подберёт текст.

КАК ПРОВЕРИТЬ (БЕЗ AI):

СПОСОБ 1 — View Source:
1. Ctrl+U (View Page Source)
2. Найти в коде: <meta name="description"
3. Если такого тега нет — дефект

СПОСОБ 2 — Inspect Element:
1. F12 → вкладка Elements
2. Раскрыть <head>
3. Искать meta name="description"

СПОСОБ 3 — Поиск по странице:
1. Ctrl+U
2. Ctrl+F (поиск)
3. Ввести "description"
4. Если нет совпадений в контексте meta — дефект

КАК ОБОСНОВАТЬ НА СОБЕСЕДОВАНИИ:

"Я проверяю исходный код страницы и ищу тег meta name='description'. Если его нет — 
это упущение для SEO. Description влияет на CTR в поисковой выдаче. Рекомендуемая 
длина 150-160 символов. Нужно проверить все важные страницы — у каждой должен быть 
уникальный description."

================================================================================
ДЕФЕКТ 5: ПРОБЛЕМЫ С КОДИРОВКОЙ В TITLE И MANIFEST.JSON
================================================================================

ЧТО ЭТО ТАКОЕ:
Вместо "Лига Цифровой Экономики" отображается "ÐÐ¸Ð³Ð° Ð¦Ð¸ÑÑÐ¾Ð²Ð¾Ð¹..." — 
это типичная проблема двойной кодировки UTF-8 (когда UTF-8 текст интерпретировали как Latin-1).

КАК ПРОВЕРИТЬ (БЕЗ AI):

ДЛЯ TITLE:
1. Посмотреть вкладку браузера — что написано в title?
2. View Source (Ctrl+U) — найти <title>...</title>
3. Если видим кракозябры типа Ð, Ñ, Ðº — проблема с кодировкой

ДЛЯ MANIFEST.JSON:
1. Открыть https://www.digitalleague.ru/manifest.json
2. Посмотреть поля "name" и "short_name"
3. Если кракозябры — та же проблема

ДОПОЛНИТЕЛЬНАЯ ПРОВЕРКА:
- View Source → проверить, есть ли <meta charset="UTF-8"> в начале <head>
- Если charset есть, но текст всё равно кривой — проблема в том, КАК генерируется HTML 
  (сервер отдаёт уже испорченные байты)

КАК ОБОСНОВАТЬ НА СОБЕСЕДОВАНИИ:

"Я смотрю на title во вкладке браузера и в исходном коде. Если вижу символы Ð, Ñ вместо 
русских букв — это проблема кодировки. Обычно это двойная кодировка UTF-8: текст был 
в UTF-8, его прочитали как Latin-1 и снова сохранили в UTF-8. Проверяю также manifest.json — 
там те же поля. Решение — исправить кодировку при сборке или на сервере."

================================================================================
ДЕФЕКТ 6: ОТСУТСТВУЕТ CACHE-CONTROL ЗАГОЛОВОК
================================================================================

ЧТО ЭТО ТАКОЕ:
Cache-Control говорит браузеру, как долго кэшировать ресурс. Без него браузер 
сам решает — может запрашивать страницу при каждом посещении.

КАК ПРОВЕРИТЬ (БЕЗ AI):

СПОСОБ 1 — DevTools:
1. F12 → Network
2. Обновить страницу
3. Выбрать основной документ (первый запрос)
4. Headers → Response Headers
5. Искать Cache-Control, Expires, Pragma

СПОСОБ 2 — Проверить повторную загрузку:
1. F12 → Network → поставить галочку "Disable cache"
2. Обновить страницу — записать количество запросов
3. Снять галочку, обновить снова
4. Если количество запросов одинаковое — кэширование может не работать

СПОСОБ 3 — curl:
   curl -I https://www.digitalleague.ru/

Смотрим наличие Cache-Control, Expires.

КАК ОБОСНОВАТЬ НА СОБЕСЕДОВАНИИ:

"Я проверяю Response Headers в DevTools. Для статических ресурсов (CSS, JS, изображения) 
должен быть Cache-Control с max-age. Для HTML страницы — обычно no-cache или короткий 
max-age, так как контент может обновляться. Отсутствие заголовка — не критично, но 
влияет на производительность: браузер не знает, можно ли использовать кэш."

================================================================================
ПОЛОЖИТЕЛЬНЫЕ МОМЕНТЫ — КАК ИХ ПРОВЕРИТЬ
================================================================================

1. САЙТ ДОСТУПЕН И БЫСТРО ЗАГРУЖАЕТСЯ
   КАК: Открыть сайт, F12 → Network → смотреть время загрузки документа (столбец Time)
   Или: Network → выбрать документ → вкладка Timing → смотреть Total time

2. HTTPS НАСТРОЕН КОРРЕКТНО
   КАК: Посмотреть в адресной строке — должен быть замок. Кликнуть на замок → 
   "Соединение защищено", сертификат действителен

3. ИСПОЛЬЗУЕТСЯ REACT
   КАК: View Source — ищем "react", "bundle.js" в названиях скриптов. 
   Или F12 → Console → ввести "React" — если есть, выведет объект

4. ROBOTS.TXT НАСТРОЕН ПРАВИЛЬНО
   КАК: Открыть https://www.digitalleague.ru/robots.txt
   Проверить: есть ли User-agent, Disallow для служебных путей, 
   Sitemap (если указан — проверить, что он рабочий)

5. ВСЕ РАЗДЕЛЫ ДОСТУПНЫ
   КАК: Пройти по каждому пункту меню. Или вручную ввести URL /about, /services, 
   /career и т.д. Смотреть на код ответа — 200 OK, не 404.

================================================================================
ЧЕК-ЛИСТ ИНСТРУМЕНТОВ ДЛЯ РУЧНОЙ ПРОВЕРКИ
================================================================================

ОБЯЗАТЕЛЬНЫЕ (встроены в браузер):
- Chrome DevTools (F12): Network, Elements, Console
- View Page Source (Ctrl+U)

ОНЛАЙН-СЕРВИСЫ (бесплатные):
- securityheaders.com — заголовки безопасности
- PageSpeed Insights (Google) — производительность
- WAVE — доступность
- GTmetrix — производительность

КОМАНДНАЯ СТРОКА:
- curl -I URL — заголовки ответа
- curl URL — тело ответа (для проверки HTML)

================================================================================
ТИПИЧНЫЕ ВОПРОСЫ НА СОБЕСЕДОВАНИИ И ОТВЕТЫ
================================================================================

В: "Как вы проверяете безопасность веб-сайта?"
О: "Проверяю HTTP-заголовки через DevTools или securityheaders.com. Смотрю на 
X-Frame-Options, CSP, HSTS. Проверяю HTTPS. Для форм — тестирую XSS и SQL-инъекции."

В: "Как вы проверяете SEO?"
О: "View Source — проверяю title, meta description, структуру заголовков H1-H6. 
Проверяю sitemap.xml и robots.txt. Смотрю, есть ли контент в HTML для роботов."

В: "В чём разница между View Source и Inspect Element?"
О: "View Source показывает исходный HTML с сервера, без выполнения JS. Inspect 
Element — DOM после рендеринга, то что видит браузер. Для проверки SEO и SSR 
важен View Source."

В: "Как вы документируете найденные дефекты?"
О: "Для каждого: название, шаги воспроизведения, ожидаемый/фактический результат, 
приоритет, серьёзность, окружение. Прикладываю скриншоты из DevTools."

================================================================================
КОНЕЦ РУКОВОДСТВА
================================================================================

